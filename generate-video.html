<!-- üé¨ G√©n√©rateur Vid√©o ‚Äì Sellyo -->
<section id="video-generator" style="padding:2rem; max-width:800px; margin:auto; color:white; background:#111; border-radius:12px;">
  <h2>üé¨ G√©n√©rer ma vid√©o √† partir du script</h2>

  <label style="margin-top:1rem;">üß† Choisir le type de vid√©o :</label>
  <select id="videoType" style="width:100%; padding:8px; margin-top:5px;">
    <option value="">-- S√©lectionnez une option --</option>
    <option value="facecam">üìπ Face Cam (nettoyage)</option>
    <option value="avatar">ü§ñ Avatar IA (pr√©sentateur virtuel)</option>
    <option value="aigen">üåç Vid√©o IA compl√®te</option>
  </select>

  <!-- üìπ Option 1: Face Cam -->
  <div id="facecam-options" style="display:none; margin-top:1rem;">
    <label for="facecamFile">Uploader votre vid√©o face cam :</label>
    <input type="file" id="facecamFile" accept="video/mp4" style="margin-top:5px;" />
  </div>

  <!-- ü§ñ Option 2: Avatar IA -->
  <div id="avatar-options" style="display:none; margin-top:1rem;">
    <label>Choisir la voix :</label>
    <select id="avatarVoice">
      <option value="fr_male_01">Homme - FR</option>
      <option value="fr_female_01">Femme - FR</option>
      <option value="en_male_01">Homme - EN</option>
      <option value="en_female_01">Femme - EN</option>
    </select>

    <label style="margin-top:1rem;">Choisir l‚Äôavatar :</label>
    <select id="avatarId">
      <option value="john_001">John</option>
      <option value="sophie_002">Sophie</option>
    </select>
  </div>

  <!-- üåç Option 3: Vid√©o IA G√©n√©r√©e -->
  <div id="aigen-options" style="display:none; margin-top:1rem;">
    <p>La vid√©o sera g√©n√©r√©e automatiquement avec des images IA, voix off et texte int√©gr√©.</p>
  </div>

  <button id="generateVideoBtn" style="margin-top:2rem; padding:10px 20px; background:#00ccff; color:#000; font-weight:bold; border:none; border-radius:8px;">
    üöÄ Lancer la g√©n√©ration
  </button>

  <p id="generationStatus" style="margin-top:1rem;"></p>
</section>

<!-- ‚ö° Script de g√©n√©ration -->
<script type="module">
 <script type="module" src="js/generate-video.js"></script>

  document.getElementById("videoType").addEventListener("change", function () {
    const type = this.value;
    document.getElementById("facecam-options").style.display = type === "facecam" ? "block" : "none";
    document.getElementById("avatar-options").style.display = type === "avatar" ? "block" : "none";
    document.getElementById("aigen-options").style.display = type === "aigen" ? "block" : "none";
  });

  document.getElementById("generateVideoBtn").addEventListener("click", async () => {
    const type = document.getElementById("videoType").value;
    const status = document.getElementById("generationStatus");
    status.innerText = "‚è≥ Traitement en cours...";

    try {
      if (type === "facecam") {
        const file = document.getElementById("facecamFile").files[0];
        if (!file) throw new Error("Veuillez uploader une vid√©o face cam.");
        await handleFacecamUpload(file);
      } else if (type === "avatar") {
        const voice = document.getElementById("avatarVoice").value;
        const avatarId = document.getElementById("avatarId").value;
        await generateAvatar(voice, avatarId);
      } else if (type === "aigen") {
        await generateAICompleteVideo();
      } else {
        status.innerText = "‚ö†Ô∏è Veuillez s√©lectionner un type de vid√©o.";
        return;
      }

      status.innerText = "‚úÖ Vid√©o en cours de g√©n√©ration. Vous recevrez un lien sous peu.";
    } catch (err) {
      console.error(err);
      status.innerText = `‚ùå Erreur : ${err.message}`;
    }
  });
</script>
