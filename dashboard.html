<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - Sellyo</title>
  <link rel="stylesheet" href="dashboard.css">
  <script type="module" src="js/firebase-auth-check.js"></script>
</head>
<body>

<div id="create-tunnel-form" style="display: none;">
  <h2>Créer un nouveau tunnel</h2>
  <form id="tunnel-form">
    <label>Nom du tunnel *</label><br>
    <input type="text" id="tunnel-name" required><br><br>

    <label>Objectif du tunnel *</label><br>
    <input type="text" id="tunnel-goal" required><br><br>

    <label>Type de contenu *</label><br>
    <select id="tunnel-type" required>
      <option value="complet">Tunnel Complet</option>
      <option value="landing">Landing page seule</option>
      <option value="email">Email de relance</option>
      <option value="video">Script vidéo</option>
    </select><br><br>

    <label>Secteur d’activité</label><br>
    <input type="text" id="sector"><br><br>

    <label>Image de couverture</label><br>
    <input type="file" id="cover-image" accept="image/*"><br><br>

    <label>Vidéo à intégrer</label><br>
    <input type="file" id="custom-video" accept="video/*"><br><br>

    <label>Description de l’offre *</label><br>
    <textarea id="tunnel-desc" required></textarea><br><br>

    <label>Texte du bouton *</label><br>
    <input type="text" id="cta-text" required><br><br>

    <label>URL du bouton de paiement</label><br>
    <input type="url" id="payment-url"><br><br>

    <button type="submit">Générer le tunnel</button>
  </form>
</div>
<script>
  document.getElementById("create-tunnel").addEventListener("click", () => {
    document.getElementById("create-tunnel-form").style.display = "block";
    document.getElementById("dashboard-content").innerHTML = "";
  });

  document.getElementById("tunnel-form").addEventListener("submit", function(e) {
    e.preventDefault();

    const name = document.getElementById("tunnel-name").value;
    const goal = document.getElementById("tunnel-goal").value;
    const type = document.getElementById("tunnel-type").value;
    const sector = document.getElementById("sector").value;
    const desc = document.getElementById("tunnel-desc").value;
    const cta = document.getElementById("cta-text").value;
    const payment = document.getElementById("payment-url").value;

    alert(`Tunnel "${name}" généré avec :
    - Objectif : ${goal}
    - Type : ${type}
    - Secteur : ${sector}
    - Bouton : ${cta}
    - Lien paiement : ${payment}`);
  });
</script>
</body>
</html>
